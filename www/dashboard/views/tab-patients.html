

<ion-content>
    <div style="height: 64px;"></div>
    <ion-list>

        <div ng-repeat=" patient in vm.patients">
            <ion-item class="item-stable"
                      ng-click="toggleGroup(patient);vm.onOpenPatient(patient.id)"
                      ng-class="{active: isGroupShown(patient)}">
                <i class="icon" ng-class="isGroupShown(patient) ? 'ion-minus' : 'ion-plus'"></i>

                Name: {{patient.name}}
                <p>Email:{{patient.email}}</p>
            </ion-item>

            <ion-item class="item-accordion" ng-show="isGroupShown(patient)">



                <!--nested accordion-->
                <div ng-repeat="form in vm.templates">
                <ion-item class="item-stable"
                          ng-click="toggleGroup1(form)"
                          ng-class="{active: isGroupShown1(form)}">
                    <i class="icon" ng-class="isGroupShown1(form) ? 'ion-minus' : 'ion-plus'"></i>



                </ion-item>

                    <ion-item class="item-accordion" ng-show="isGroupShown1(form)">


                    <div class="patients_form" ng-repeat="event in form.events">

                        <p class="col col-30"><label><span translate="DATE"></span>: </label>{{vm.convertDate(event.date)}}</p>
                        <p class="col col-30"><label><span translate="FROM"></span>: </label>{{event.fromUser.username}}</p>
                        <p class="col col-30"><label><span translate="DESCR"></span>: </label>{{event.descr}}</p>
                        <p class="col col-30"><label><span translate="STATUS"></span>: </label>{{event.status}}</p>

                    </div>

                    </ion-item>
            </div>


                <!--nested accordion-->


            </ion-item>
        </div>
    </ion-list>
</ion-content>
